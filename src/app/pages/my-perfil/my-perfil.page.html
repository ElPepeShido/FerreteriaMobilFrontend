<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Mi perfil</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">Mi perfil</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-card>
      <ion-avatar class="perfil-img">
        <img alt="Silhouette of a person's head" src="{{User.image}}" />
      </ion-avatar>
      <ion-title>{{User.name}}</ion-title>
    </ion-card>

    <ion-card>
      <ion-title>Estadisticas</ion-title>
      <ion-list>
        <ion-item>
          <ion-label>Compras realizadas</ion-label>
          <ion-button color="danger" class="button-info" slot="end">
            <ion-icon name="cube-outline" slot="start"></ion-icon>
            12
          </ion-button>
        </ion-item>
        <ion-item>
          <ion-label>Productos en el carrito</ion-label>
          <ion-button color="warning" class="button-info" slot="end">
            <ion-icon name="cart-outline" slot="start"></ion-icon>
            13
          </ion-button>
        </ion-item>
        <ion-item>
          <ion-label>Estado</ion-label>
          <ion-button color="success" class="button-info" slot="end">
            <ion-icon name="star-outline" slot="start"></ion-icon>
            Activo
          </ion-button>
        </ion-item>
      </ion-list>
    </ion-card>

    <ion-card>
      <ion-title>Tu información</ion-title>
      <ion-list>
        <ion-item>
          <ion-label>Nombre:</ion-label>
          <p>{{User.name}}</p>
        </ion-item>

        <ion-item>
          <ion-label>Email:</ion-label>
          <p>{{User.email}}</p>
        </ion-item>

        <ion-item>
          <ion-label>Teléfono:</ion-label>
          <p></p>
        </ion-item>
      </ion-list>
    </ion-card>

    <ion-card>
      <ion-title>Direcciones</ion-title>


      <ion-list>
        <ion-item>
          <!--TODO: AGRREGAR EL *ngFor PARA LAS DIRECCIONES, TENEMOS QUE AÑADIR EL INPUT DE DIRECCIONES PARA PODER AGREGARLAS-->
          <ion-label>
            <h2>Direccion 1</h2>
            <p>Calle Reforma 123, Col. Centro, Ciudad de México, CDMX, 06000, México</p>
          </ion-label>
          <ion-button id="editar-direccion" color="warning" class="button-info" slot="end">
            <!--TODO: AGREGAR UNA FUNCIÓN QUE MANDE LA LISTA DE EDITAR CON LOS CAMBIOS POSIBLES-->
            <ion-icon name="pencil-sharp" size="large"></ion-icon>
          </ion-button>
          <ion-modal #editarModal trigger="editar-direccion" (willDismiss)="onWillDismiss($event)">
            <ng-template>
              <ion-header>
                <ion-toolbar>
                  <ion-buttons slot="start">
                    <ion-button id="present-alert" (click)="cancel(editarModal)">Eliminar</ion-button>
                    <ion-alert trigger="present-alert" header="Eliminar" [buttons]="alertButtons"
                      (didDismiss)="setResult($event)">
                      <p>¿Deseas eliminar esta dirección?</p>
                    </ion-alert>
                  </ion-buttons>
                  <ion-title>Editar</ion-title>
                  <ion-buttons slot="end">
                    <ion-button (click)="confirm(editarModal)" [strong]="true">Guardar</ion-button>
                  </ion-buttons>
                </ion-toolbar>
              </ion-header>
              <ion-content class="ion-padding">
                <ion-item>
                  <ion-input label="Estado" labelPlacement="stacked" type="text" placeholder="Estado"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-input label="Ciudad" labelPlacement="stacked" type="text" placeholder="Ciudad"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-input label="Código postal" labelPlacement="stacked" type="text" placeholder="Código postal"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-input label="Calle" labelPlacement="stacked" type="text" placeholder="Calle"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-input label="Numero exterior" labelPlacement="stacked" type="text" placeholder="Numero exterior"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-input label="Referencias" labelPlacement="stacked" type="text" placeholder="Referencias"></ion-input>
                </ion-item>
              </ion-content>
            </ng-template>
          </ion-modal>
        </ion-item>
      </ion-list>


      <!-- TODO: DINAMICO SI HAY MSNOS DE 3 DIRECCIONES-->
      <ion-button id="crear-direccion" expand="block" class="crea-cuenta grande">Agregar dirección</ion-button>
      <p>{{ message }}</p>
      <ion-modal #crearModal trigger="crear-direccion" (willDismiss)="onWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-button (click)="cancel(crearModal)">Cancelar</ion-button>
              </ion-buttons>
              <ion-title>Dirección</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="confirm(crearModal)" [strong]="true">Agregar</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-item>
              <ion-input label="Estado" labelPlacement="stacked" type="text" placeholder="Estado"></ion-input>
            </ion-item>
            <ion-item>
              <ion-input label="Ciudad" labelPlacement="stacked" type="text" placeholder="Ciudad"></ion-input>
            </ion-item>
            <ion-item>
              <ion-input label="Código postal" labelPlacement="stacked" type="text" placeholder="Código postal"></ion-input>
            </ion-item>
            <ion-item>
              <ion-input label="Calle" labelPlacement="stacked" type="text" placeholder="Calle"></ion-input>
            </ion-item>
            <ion-item>
              <ion-input label="Numero exterior" labelPlacement="stacked" type="text" placeholder="Numero exterior"></ion-input>
            </ion-item>
            <ion-item>
              <ion-input label="Referencias" labelPlacement="stacked" type="text" placeholder="Referencias"></ion-input>
            </ion-item>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-card>

    <ion-button href="/catalog" class="crea-cuenta grande">Todo bien</ion-button>

    <ion-fab slot="fixed" vertical="top" horizontal="end" [edge]="true">
      <ion-fab-button href="/edit-profile" color="medium">
        <ion-icon class="settings-btn" name="settings-outline"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </ion-content>
</div>